
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://osg-htc.org/school-2024/materials/software/part4-ex1-download/">
      
      <link rel="icon" href="../../../assets/OSG_Logo.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.0">
    
    
      
        <title>Part4 ex1 download - OSG School 2024</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.33e2939f.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ef6f36e2.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../../stylesheets/code-highlight.css">
    
      <link rel="stylesheet" href="../../../stylesheets/osg.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#software-exercise-41-using-a-pre-compiled-binary" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="OSG School 2024" class="md-header__button md-logo" aria-label="OSG School 2024" data-md-component="logo">
      
  <img src="../../../assets/OSG_Logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OSG School 2024
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Part4 ex1 download
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="OSG School 2024" class="md-nav__button md-logo" aria-label="OSG School 2024" data-md-component="logo">
      
  <img src="../../../assets/OSG_Logo.svg" alt="logo">

    </a>
    OSG School 2024
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../schedule/" class="md-nav__link">
        Schedule
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../health/" class="md-nav__link">
        Health Guidelines
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Logistics
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Logistics" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Logistics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../logistics/" class="md-nav__link">
        General information
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../logistics/travel-advice/" class="md-nav__link">
        Travel advice
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../logistics/hotel/" class="md-nav__link">
        Hotel information
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../logistics/location/" class="md-nav__link">
        School location
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../logistics/local-transportation/" class="md-nav__link">
        Local transportation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../logistics/visas/" class="md-nav__link">
        Visa requirements
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../logistics/travel-planning/" class="md-nav__link">
        Travel planning
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../logistics/meals/" class="md-nav__link">
        Meal information
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../logistics/dining/" class="md-nav__link">
        Dining options
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../logistics/account-setup/" class="md-nav__link">
        Account setup
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#our-software-example" class="md-nav__link">
    Our Software Example
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#copy-the-input-files" class="md-nav__link">
    Copy the Input Files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submitting-the-job" class="md-nav__link">
    Submitting the Job
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <style type="text/css"> pre em { font-style: normal; background-color: yellow; } pre strong { font-style: normal; font-weight: bold; color: \#008; } </style>

<h1 id="software-exercise-41-using-a-pre-compiled-binary">Software Exercise 4.1: Using a Pre-compiled Binary<a class="headerlink" href="#software-exercise-41-using-a-pre-compiled-binary" title="Permanent link">&para;</a></h1>
<p><strong>Objective</strong>: Identify software that can be downloaded; download it and use it to run a job. </p>
<p><strong>Why learn this?</strong>: Some software doesn't require much "installation" - you can just 
download it and run. Recognizing when this is possible can save you time. </p>
<h2 id="our-software-example">Our Software Example<a class="headerlink" href="#our-software-example" title="Permanent link">&para;</a></h2>
<p>The software we will be using for this example is a common tool for
aligning genome and protein sequences against a
reference database, the BLAST program.</p>
<ol>
<li>
<p>Search the internet for the BLAST software.  Searches might include
"blast executable or "download blast software".  Hopefully these
searches will lead you to a BLAST website page that looks like this:</p>
<p><img alt="BLAST landing page" src="../files/part1-ex1-blast-landing-page.png" /></p>
</li>
<li>
<p>Click on the title that says <a href="../files/part1-ex1-blast-front-page.png">"Download
BLAST"</a> and then look for the
link that has the <a href="../files/part1-ex1-blast-dl-page.png">latest installation and source
code</a>.  </p>
<p>This will either open a page in a web browser that looks like this: </p>
<p><img alt="Download page" src="../files/part1-ex1-blast-dl-list.png" /></p>
<p>Or you will be asked to open the link in your file browser (choose the 
Connect as Guest option): </p>
<p><img alt="Download Folder" src="../files/part1-ex1-blast-dl-folder.png" /></p>
<p>In either case, you should end up on a
page with a list of each version of BLAST that is available for
different operating systems.</p>
</li>
<li>
<p>We could download the source and compile it ourselves, but instead,
we're going to use one of the pre-built binaries.  <strong>Before proceeding,
look at the list of downloads and try to determine which one you want.</strong></p>
</li>
<li>
<p>Based on our operating system, we want to use the Linux binary,
which is labelled with the <code>x64-linux</code> suffix. </p>
<p><img alt="BLAST download page" src="../files/part1-ex1-blast-dl-list-linux.png" /></p>
<p><img alt="BLAST download folder" src="../files/part1-ex1-blast-dl-folder-linux.png" /></p>
<p>All the other links are either for source code or other operating
systems. </p>
</li>
<li>
<p>On the Access Point, create a directory for
this exercise. Then download the appropriate <code>tar.gz</code> file and un-tar/decompress it
it. If you want to do this all from the command line, the sequence will 
look like this (using <code>wget</code> as the download command.) </p>
<div class="codehilite"><pre><span></span><code><span class="gp">user@login $ </span>wget https://ftp.ncbi.nlm.nih.gov/blast/executables/blast+/LATEST/ncbi-blast-2.15.0+-x64-linux.tar.gz
<span class="gp">user@login $ </span>tar -xzf ncbi-blast-2.15.0+-x64-linux.tar.gz
</code></pre></div>

</li>
<li>
<p>We're going to be using the <code>blastx</code> binary in our job. Where is it
in the directory you just decompressed?</p>
</li>
</ol>
<h2 id="copy-the-input-files">Copy the Input Files<a class="headerlink" href="#copy-the-input-files" title="Permanent link">&para;</a></h2>
<p>To run BLAST, we need an input file and reference database. For this
example, we'll use the "pdbaa" database, which contains sequences for
the protein structure from the Protein Data Bank. For our input file,
we'll use an abbreviated fasta file with mouse genome information.</p>
<ol>
<li>
<p>Download these files to your current directory: </p>
<div class="codehilite"><pre><span></span><code><span class="gp">username@login $ </span>wget http://proxy.chtc.wisc.edu/SQUID/osg-school-2023/pdbaa.tar.gz
<span class="gp">username@login $ </span>wget http://proxy.chtc.wisc.edu/SQUID/osg-school-2023/mouse.fa
</code></pre></div>

</li>
<li>
<p>Untar the <code>pdbaa</code> database: </p>
<div class="codehilite"><pre><span></span><code><span class="gp">username@login $ </span>tar -xzf pdbaa.tar.gz
</code></pre></div>

</li>
</ol>
<h2 id="submitting-the-job">Submitting the Job<a class="headerlink" href="#submitting-the-job" title="Permanent link">&para;</a></h2>
<p>We now have our program (the pre-compiled <code>blastx</code> binary) and our input
files, so all that remains is to create the submit file. The form of a
typical <code>blastx</code> command looks something like this:</p>
<div class="codehilite"><pre><span></span><code>blastx -db &lt;database_dir/prefix&gt; -query &lt;input_file&gt; -out &lt;output_file&gt;
</code></pre></div>

<ol>
<li>
<p>Copy a submit file from one of the Day 1 exercises or previous 
software exercises to use for this exercise. </p>
</li>
<li>
<p>Think about which lines you will need to change or add to your submit
file in order to submit the job successfully. In particular:    </p>
<ul>
<li>What is the executable?</li>
<li>How can you indicate the entire command line sequence above?</li>
<li>Which files need to be transferred in addition to the
executable?</li>
<li>Does this job require a certain type of operating system?</li>
<li>Do you have any idea how much memory or disk to request?</li>
</ul>
</li>
<li>
<p>Try to answer these questions and modify your submit file
appropriately.</p>
</li>
<li>
<p>Once you have done all you can, check your submit file against the
lines below, which contain the exact components to run this particular
job.</p>
<ul>
<li>
<p>The executable is <code>blastx</code>, which is located in the <code>bin</code>
directory of our downloaded BLAST directory. We need to use the
<code>arguments</code> line in the submit file to express the rest of the command. </p>
<div class="codehilite"><pre><span></span><code>executable = ncbi-blast-2.15.0+/bin/blastx
arguments = -db pdbaa/pdbaa -query mouse.fa -out results.txt
</code></pre></div>

</li>
<li>
<p>The BLAST program requires our input file and database, so they
must be transferred with <code>transfer_input_files</code>. </p>
<div class="codehilite"><pre><span></span><code>transfer_input_files = pdbaa, mouse.fa
</code></pre></div>

</li>
<li>
<p>Let's assume that we've run this program before, and we know that
1GB of disk and 1GB of memory will be MORE than enough (the 'log' file
will tell us how accurate we are, after the job runs): </p>
<div class="codehilite"><pre><span></span><code>request_memory = 1GB
request_disk = 1GB
</code></pre></div>

</li>
</ul>
</li>
<li>
<p>Submit the blast job using <code>condor_submit</code>. Once the job starts, it
should run in just a few minutes and produce a file called
<code>results.txt</code>.</p>
</li>
</ol>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
  <div class="md-footer-social">
    
      
      
      <a href="https://twitter.com/OSGSchool" target="_blank" rel="noopener" title="OSG School on Twitter" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../../assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.d892486b.min.js"></script>
      
    
  </body>
</html>