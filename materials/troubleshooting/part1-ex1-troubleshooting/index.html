
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://osg-htc.org/school-2024/materials/troubleshooting/part1-ex1-troubleshooting/">
      
      <link rel="icon" href="../../../assets/OSG_Logo.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.0">
    
    
      
        <title>OSG Exercise 2.1: Troubleshooting Jobs - OSG School 2024</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.33e2939f.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ef6f36e2.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../../stylesheets/code-highlight.css">
    
      <link rel="stylesheet" href="../../../stylesheets/osg.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#osg-exercise-21-troubleshooting-jobs" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="OSG School 2024" class="md-header__button md-logo" aria-label="OSG School 2024" data-md-component="logo">
      
  <img src="../../../assets/OSG_Logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OSG School 2024
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              OSG Exercise 2.1: Troubleshooting Jobs
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="OSG School 2024" class="md-nav__button md-logo" aria-label="OSG School 2024" data-md-component="logo">
      
  <img src="../../../assets/OSG_Logo.svg" alt="logo">

    </a>
    OSG School 2024
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../schedule/" class="md-nav__link">
        Schedule
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Logistics
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Logistics" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Logistics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../logistics/" class="md-nav__link">
        General information
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../logistics/hotel/" class="md-nav__link">
        Hotel information
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../logistics/location/" class="md-nav__link">
        School location
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../logistics/local-transportation/" class="md-nav__link">
        Local transportation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../logistics/visas/" class="md-nav__link">
        Visa requirements
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../logistics/travel-planning/" class="md-nav__link">
        Travel planning
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../logistics/meals/" class="md-nav__link">
        Meal information
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../logistics/dining/" class="md-nav__link">
        Dining options
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../logistics/account-setup/" class="md-nav__link">
        Account setup
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#acquiring-the-materials" class="md-nav__link">
    Acquiring the Materials
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#solving-a-project-euler-problem" class="md-nav__link">
    Solving a Project Euler Problem
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#finding-anagrams" class="md-nav__link">
    Finding anagrams
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#finding-the-largest-square" class="md-nav__link">
    Finding the largest square
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#answer-key" class="md-nav__link">
    Answer Key
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="osg-exercise-21-troubleshooting-jobs">OSG Exercise 2.1: Troubleshooting Jobs<a class="headerlink" href="#osg-exercise-21-troubleshooting-jobs" title="Permanent link">&para;</a></h1>
<p>The goal of this exercise is to practice troubleshooting some common problems
that you may encounter when submitting jobs using HTCondor.</p>
<p>This exercise should work on either of the access points- OSPool or Path Facility</p>
<p><strong>Note:</strong> This exercise is a little harder than some others.
To complete it, you will have to find and fix several issues.
Be patient, keep trying, but if you really get stuck,
you can ask for help or look at the very bottom of this page for a link to answers.
But try not to look at the answers!</p>
<h2 id="acquiring-the-materials">Acquiring the Materials<a class="headerlink" href="#acquiring-the-materials" title="Permanent link">&para;</a></h2>
<p>We have prepared some Python code, data, and submit files for this exercise:</p>
<ol>
<li>Log into an Access Point</li>
<li>
<p>Download a tarball of the materials:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">user@server $ </span>wget http://proxy.chtc.wisc.edu/SQUID/osg-school-2023/troubleshooting.tar.gz
</code></pre></div>

</li>
<li>
<p>Extract the tarball using the commands that you learned earlier</p>
</li>
<li>Change into the newly extracted directory and explore its contents&nbsp;â€”
    resist the temptation to fix things right away!</li>
</ol>
<h2 id="solving-a-project-euler-problem">Solving a Project Euler Problem<a class="headerlink" href="#solving-a-project-euler-problem" title="Permanent link">&para;</a></h2>
<p>The contents of the tarball contain a series of submit files, Python scripts, and an input file 
that are designed to solve <a href="https://projecteuler.net/problem=98">Project Euler problem 98</a>:</p>
<blockquote>
<p>By replacing each of the letters in the word CARE with 1, 2, 9, and 6 respectively, we form a square number: 1296 =
36^2. What is remarkable is that, by using the same digital substitutions, the anagram, RACE, also forms a square
number: 9216 = 96^2. We shall call CARE (and RACE) a square anagram word pair and specify further that leading zeroes
are not permitted, neither may a different letter have the same digital value as another letter.</p>
<p>Using p098_words.txt, a 16K text file containing nearly two-thousand common English words, find all the square
anagram word pairs (a palindromic word is NOT considered to be an anagram of itself).</p>
<p>What is the largest square number formed by any member of such a pair?</p>
<p><strong>NOTE:</strong> All anagrams formed must be contained in the given text file.</p>
</blockquote>
<p>Unfortunately, there are many issues with the submit files that you will have to work through
before you can obtain the solution to the problem!
The code in the Python scripts themselves is, in theory, free of bugs.</p>
<h2 id="finding-anagrams">Finding anagrams<a class="headerlink" href="#finding-anagrams" title="Permanent link">&para;</a></h2>
<p>The first step in our workflow takes an input file with a list of words (<code>p098_words.txt</code>)
and extracts all of the anagrams using the <code>find_anagrams.py</code> script.
Naturally, we want to run this as an HTCondor job, so:</p>
<ol>
<li>Submit the accompanying <code>find-anagrams.sub</code> file from the tarball.</li>
<li>Resolve any issues that you encounter until the job returns pairs of anagrams as its output.</li>
</ol>
<p>Once you have satisfactory output, move onto the next section.</p>
<div class="admonition note">
<p class="admonition-title">Please be polite</p>
<p>Access points are shared resources, so you should clean up after yourself.
If you discover any jobs in the Hold state, and after you are done troubleshooting them,
remove them with the following command:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">user@server $ </span>condor_rm -const <span class="s1">&#39;JobStatus =?= 5&#39;</span> &lt;JOB FILTER&gt;
</code></pre></div>

<table>
<thead>
<tr>
<th>Where replacing <code>&lt;JOB FILTER&gt;</code> with...</th>
<th>Will remove...</th>
</tr>
</thead>
<tbody>
<tr>
<td>Your username (e.g. <code>blin</code>)</td>
<td>All of your held jobs</td>
</tr>
<tr>
<td>A cluster ID (e.g. <code>74078</code>)</td>
<td>All held jobs matching the given cluster ID</td>
</tr>
<tr>
<td>A job ID (e.g. <code>97932.30</code>)</td>
<td>That specific held job</td>
</tr>
</tbody>
</table>
</div>
<h2 id="finding-the-largest-square">Finding the largest square<a class="headerlink" href="#finding-the-largest-square" title="Permanent link">&para;</a></h2>
<p>The next step in the workflow uses the <code>max_square.py</code> script to find the largest square number,
if any, for a given anagram word pair.
Let's submit jobs that run <code>max_square.py</code> for all of the anagram word pairs (i.e., one job per word pair),
that you found in the previous section:</p>
<ol>
<li>Submit the accompanying <code>squares.sub</code> file from the tarball</li>
<li>Resolve any issues that you encounter until you receive output for each job.
   Note that some jobs may have empty output since not all anagram word pairs are <em>square</em> anagram word pairs.</li>
</ol>
<p>Next, you can find the largest square among your output by directly using the command line.
For example, if all of your job output has been placed in the <code>squares</code> directory
and are named <code>square-1.out</code>, <code>square-2.out</code>, etc.,
then you could run the following command to find the largest square:</p>
<div class="codehilite"><pre><span></span><code><span class="gp">user@server $ </span>cat squares/square-*.out <span class="p">|</span> sort -n <span class="p">|</span> tail -n <span class="m">1</span>
</code></pre></div>

<p>You can check if you have the right answer with any of the OSG staff
or by submitting the answer to Project Euler (requires an account).</p>
<h2 id="answer-key">Answer Key<a class="headerlink" href="#answer-key" title="Permanent link">&para;</a></h2>
<p>There is also a working solution on our web server that can be retrieved with</p>
<div class="codehilite"><pre><span></span><code><span class="gp">user@server $ </span>wget http://proxy.chtc.wisc.edu/SQUID/osg-school-2023/troubleshooting-key.tar.gz
</code></pre></div>

<p>It contains comments labeled <code>SOLUTION</code> that you can consult in case you get stuck.
Like any answer key, it is mainly useful as a verification tool,
so try to only use it as a last resort or for detailed explanations to improve your understanding.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
  <div class="md-footer-social">
    
      
      
      <a href="https://twitter.com/OSGSchool" target="_blank" rel="noopener" title="OSG School on Twitter" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../../assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.d892486b.min.js"></script>
      
    
  </body>
</html>